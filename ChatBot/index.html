<!DOCTYPE html>
<head>
<title>Chat - Customer Module</title>
<link type="text/css" rel="stylesheet" href="style.css" />
</head>
    <body>
    <div id="wrapper">
        <div id="menu">
            <p class="welcome">Welcome to stealth! <b></b></p>
            <p class="logout"><a id="exit" href="#">Exit Chat</a></p>
            <div style="clear:both"></div>
        </div>
         
        <div id="chatbox"></div>
         
        <!--<form name="message" action="">
            <input name="usermsg" type="text" id="usermsg" size="63" />
            <input name="submitmsg" type="submit"  id="submitmsg" value="Send" />
        </form>-->

        <input name="usermsg" type="text" id="usermsg" size="63" />
        <button id="submitmsg" onclick="submit()">Send</button>
    </div>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js"></script>
    <script type="text/javascript">

    function writeToChatbox(sender, message) {
        var chatbox = $("#chatbox");
        var start = chatbox[0].innerText;
        if (start.length > 0) {
            start += "\n";
        }
        start += sender+": ";
        chatbox[0].innerText = start+message;
    }

    function messageReceived(text) {
        var chatbox = $("#chatbox");
        console.log("Received "+text);
        writeToChatbox("Chatbot", text);
    }

    function send(text) {
        var chatbox = $("#chatbox");
        writeToChatbox("You", text);
        console.log("Sending "+text);
        // $.post({data}, function(data) {

        // })
        window.setTimeout(function() {
            messageReceived(text);
        }, 500);
    }

    document.onkeydown=function(){
        if(window.event.keyCode=='13'){
            submit();
        }
    }

    function submit(event) {
        var inputbox = $('#usermsg');
        var message = inputbox.val();
        send(message);
        inputbox.val("");
    }
    // jQuery Document
    $(document).ready(function(){
     
    });
    </script>
    </body>
</html>